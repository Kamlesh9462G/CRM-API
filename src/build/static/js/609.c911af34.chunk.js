"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[609],{1605:function(e,r,i){var o=i(3129),n=i(4004),l=i(896),t=i(4087),s=i(7263),a=i(184);r.Z=function(){return(0,a.jsx)(o.Tr,{height:400,maxHeight:"400px",children:(0,a.jsx)(n.Td,{colSpan:25,children:(0,a.jsx)(l.M,{h:"100%",children:(0,a.jsx)(t.xu,{children:(0,a.jsx)(s.N,{mt:"4",noOfLines:12,spacing:"4",skeletonHeight:"4",width:"84rem",borderRadius:"2rem"})})})})})}},8609:function(e,r,i){i.r(r);var o=i(1413),n=i(4165),l=i(5861),t=i(9439),s=i(3682),a=i(751),d=i(3722),c=i(4087),u=i(2392),h=i(6069),x=i(8208),m=i(9229),f=i(8886),p=i(4224),j=i(1900),g=i(2732),v=i(553),S=i(3129),w=i(5237),y=i(8500),b=i(4004),C=i(2791),z=i(9434),q=i(7689),T=i(7165),Z=i(1134),N=i(8596),P=i(1605),E=i(1243),I=i(2462),A=i(8329),D=i(184),R={image:null},k="",W="",F="",B="",_=0,Y="",L="",M="",H="",O="",U="",V="",G="",K="";r.default=function(){var e=(0,C.useState)(R),r=(0,t.Z)(e,2),i=r[0],J=r[1],Q=(0,C.useState)([]),X=(0,t.Z)(Q,2),$=X[0],ee=X[1],re=(0,z.v9)((function(e){return e.common})),ie=re.branches,oe=re.users,ne=re.courses,le=re.statuses,te=re.cities,se=re.sources,ae=re.signinuser,de=re.loading,ce=(0,Z.cI)(),ue=ce.register,he=ce.handleSubmit,xe=ce.control,me=ce.setValue,fe=ce.formState.errors,pe=ce.watch,je=pe("Email"),ge=pe("Phone1");(0,C.useEffect)((function(){be((0,T.Yu)("branch")),be((0,T.Yu)("course")),be((0,T.Yu)("user")),be((0,T.Yu)("status")),be((0,T.Yu)("city")),be((0,T.Yu)("source"))}),[]);var ve=(0,C.useState)(!1),Se=(0,t.Z)(ve,2),we=Se[0],ye=Se[1];(0,C.useEffect)((function(){var e,r=function(){var r=(0,l.Z)((0,n.Z)().mark((function r(){return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:clearTimeout(e),e=setTimeout((0,l.Z)((0,n.Z)().mark((function e(){var r,i,o,l,t,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=A.Z.get("token"),e.prev=1,ye(!0),!((i=String(ge)).length>=6)){e.next=12;break}return e.next=7,E.Z.get("".concat(I._,"/lead/search-duplicate-lead?keyword=").concat(i),{headers:{Authorization:"Bearer ".concat(r)}});case 7:o=e.sent,l=o.data.Data,ee(l),e.next=21;break;case 12:if(!je.includes("@")){e.next=20;break}return e.next=15,E.Z.get("".concat(I._,"/lead/search-duplicate-lead?keyword=").concat(je),{headers:{Authorization:"Bearer ".concat(r)}});case 15:t=e.sent,s=t.data.Data,ee(s),e.next=21;break;case 20:ee([]);case 21:ye(!1),e.next=28;break;case 24:e.prev=24,e.t0=e.catch(1),console.error(e.t0),ye(!1);case 28:case"end":return e.stop()}}),e,null,[[1,24]])}))),500);case 2:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();return r(),function(){return clearTimeout(e)}}),[ge,je]);var be=(0,z.I0)(),Ce=function(e){var r=e.target,i=r.name,o=r.value;if("EnquiryCourse"===i){var n=ne.find((function(e){return e.CourseName===o})),l=n?n.CourseValue:"";me("CoursePrice",l)}},ze=(0,q.s0)(),qe=(0,s.p)(),Te=null===ie||void 0===ie?void 0:ie.map((function(e){return(0,D.jsx)("option",{value:e.BranchName,children:e.BranchName},e._id)})),Ze=null===ne||void 0===ne?void 0:ne.map((function(e){return(0,D.jsx)("option",{value:e.CourseName,children:e.CourseName},e._id)})),Ne=null===oe||void 0===oe?void 0:oe.map((function(e){return(0,D.jsx)("option",{value:e.Name,children:e.Name},e._id)})),Pe=null===le||void 0===le?void 0:le.map((function(e){return(0,D.jsx)("option",{value:e.Status,children:e.StatusName},e._id)})),Ee=null===te||void 0===te?void 0:te.map((function(e){return(0,D.jsx)("option",{value:e.CityName,children:e.CityName},e._id)})),Ie=null===se||void 0===se?void 0:se.map((function(e){return(0,D.jsx)("option",{value:e.SourceName,children:e.SourceName},e._id)}));return(0,D.jsxs)(a.K,{h:"100%",children:[(0,D.jsx)("form",{onSubmit:he((function(e){var r=new FormData;Object.entries(e).forEach((function(e){var i=(0,t.Z)(e,2),o=i[0],n=i[1];r.append(o,n)})),r.append("file",i.image),be((0,T.qC)(e,"lead",ze,qe)).then((function(){me("Name",k),me("EnquiryDate",W),me("EnquiryCourse",F),me("CoursePrice",B),me("Phone1",_),me("Email",Y),me("FollowupDate",L),me("Status",M),me("Branch",H),me("City",O),me("Source",U),me("AssignTo",V),me("location",G),me("Remarks",K),console.log("ok")}))})),children:(0,D.jsxs)(d.M,{columns:[1,1,2,3],autoFlow:"row",gap:5,px:[2,5],py:[2,5],minWidth:"250px",children:[(0,D.jsx)(c.xu,{children:(0,D.jsxs)(u.NI,{variant:"floating",id:"owner",children:[(0,D.jsx)(h.I,(0,o.Z)((0,o.Z)({disabled:!0,autoComplete:"off"},ue("owner")),{},{borderColor:"gray.400",borderRadius:"0.25rem",size:"sm",placeholder:" ",value:ae.Name})),(0,D.jsx)(x.l,{fontWeight:"400",color:"gray.600",children:"Owner"})]})}),(0,D.jsx)(c.xu,{children:(0,D.jsxs)(u.NI,{variant:"floating",id:"name",children:[(0,D.jsx)(h.I,(0,o.Z)((0,o.Z)({autoComplete:"off"},ue("Name",{required:"name is required"})),{},{borderColor:null!==fe&&void 0!==fe&&fe.Name?"red.500":"gray.400",borderRadius:"0.25rem",size:"sm",placeholder:" "})),(0,D.jsx)(x.l,{fontWeight:"400",color:"gray.600",children:"Enter Name"}),fe.Name&&(0,D.jsx)(m.x,{color:"red.500",fontSize:"xs",children:"name is required"})]})}),(0,D.jsx)(c.xu,{children:(0,D.jsxs)(u.NI,{variant:"floating",id:"EnquiryDate",children:[(0,D.jsx)(h.I,(0,o.Z)((0,o.Z)({autoComplete:"off"},ue("EnquiryDate",{required:"EnquiryDate is required"})),{},{borderColor:null!==fe&&void 0!==fe&&fe.EnquiryDate?"red.500":"gray.400",borderRadius:"0.25rem",size:"sm",type:"datetime-local",placeholder:" "})),(0,D.jsx)(x.l,{fontWeight:"400",color:"gray.600",children:"Enquiry Date"}),fe.EnquiryDate&&(0,D.jsx)(m.x,{color:"red.500",fontSize:"xs",children:"EnquiryDate is required"})]})}),(0,D.jsx)(c.xu,{children:(0,D.jsxs)(u.NI,{variant:"floating",id:"EnquiryCourse",children:[(0,D.jsxs)(f.P,(0,o.Z)((0,o.Z)({autoComplete:"off"},ue("EnquiryCourse")),{},{onChange:Ce,size:"sm",borderColor:null!==fe&&void 0!==fe&&fe.EnquiryCourse?"red.500":"gray.400",borderRadius:"0.25rem",placeholder:"",children:[(0,D.jsx)("option",{value:"",selected:!0,disabled:!0,children:"Select Product"}),Ze]})),(0,D.jsx)(x.l,{fontWeight:"400",color:"gray.600",children:"Enquiry Product"})]})}),(0,D.jsx)(c.xu,{children:(0,D.jsxs)(u.NI,{variant:"floating",id:"CoursePrice",children:[(0,D.jsx)(h.I,(0,o.Z)((0,o.Z)({autoComplete:"off"},ue("CoursePrice")),{},{onChange:Ce,borderColor:"gray.400",borderRadius:"0.25rem",size:"sm",placeholder:" "})),(0,D.jsx)(x.l,{fontWeight:"400",color:"gray.600",children:"Product Price"}),fe.CoursePrice&&(0,D.jsx)(m.x,{color:"red.500",fontSize:"xs",children:"Product is required"})]})}),(0,D.jsx)(c.xu,{children:(0,D.jsxs)(u.NI,{variant:"floating",id:"Phone1",children:[(0,D.jsx)(h.I,(0,o.Z)((0,o.Z)({maxLength:10},ue("Phone1",{required:"Phone1  is required"})),{},{autoComplete:"off",borderColor:null!==fe&&void 0!==fe&&fe.Phone1?"red.500":"gray.400",borderRadius:"0.25rem",size:"sm",placeholder:" ",type:"number"})),(0,D.jsx)(x.l,{fontWeight:"400",color:"gray.600",children:"Enter Phone No. 1"}),fe.Phone1&&(0,D.jsx)(m.x,{color:"red.500",fontSize:"xs",children:"mobile number is required"})]})}),(0,D.jsx)(c.xu,{children:(0,D.jsxs)(u.NI,{variant:"floating",id:"Phone2",children:[(0,D.jsx)(h.I,(0,o.Z)((0,o.Z)({maxLength:10},ue("Phone2",{required:"Phone 2 is required"})),{},{borderColor:null!==fe&&void 0!==fe&&fe.Phone2?"red.500":"gray.400",autoComplete:"off",type:"number",borderRadius:"0.25rem",size:"sm",placeholder:" "})),(0,D.jsx)(x.l,{fontWeight:"400",color:"gray.600",children:"Enter Phone No. 2"}),fe.Phone2&&(0,D.jsx)(m.x,{color:"red.500",fontSize:"xs",children:"mobile number 2 is required"})]})}),(0,D.jsx)(c.xu,{children:(0,D.jsxs)(u.NI,{variant:"floating",id:"Email",children:[(0,D.jsx)(h.I,(0,o.Z)((0,o.Z)({},ue("Email",{required:"Email is required"})),{},{borderColor:null!==fe&&void 0!==fe&&fe.Email?"red.500":"gray.400",name:"Email",autoComplete:"off",borderRadius:"0.25rem",size:"sm",placeholder:" "})),(0,D.jsx)(x.l,{fontWeight:"400",color:"gray.600",children:"Enter Email ID *"}),fe.Email&&(0,D.jsx)(m.x,{color:"red.500",fontSize:"xs",children:"Email ID is required"})]})}),(0,D.jsx)(c.xu,{children:(0,D.jsxs)(u.NI,{variant:"floating",id:"FollowupDate",children:[(0,D.jsx)(h.I,(0,o.Z)((0,o.Z)({},ue("FollowupDate",{required:"FollowupDate date is required"})),{},{borderColor:null!==fe&&void 0!==fe&&fe.FollowupDate?"red.500":"gray.400",autoComplete:"off",size:"sm",type:"datetime-local",borderRadius:"0.25rem"})),(0,D.jsx)(x.l,{fontWeight:"400",color:"gray.600",children:"Follow Up Date"}),fe.FollowupDate&&(0,D.jsx)(m.x,{color:"red.500",fontSize:"xs",children:"FollowupDate date is required"})]})}),(0,D.jsx)(c.xu,{children:(0,D.jsxs)(u.NI,{variant:"floating",id:"Status",children:[(0,D.jsxs)(f.P,(0,o.Z)((0,o.Z)({},ue("Status",{required:"Status is required"})),{},{autoComplete:"off",borderColor:null!==fe&&void 0!==fe&&fe.FollowupDate?"red.500":"gray.400",size:"sm",borderRadius:"0.25rem",placeholder:"",children:[" ",(0,D.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select Status"}),Pe]})),(0,D.jsx)(x.l,{fontWeight:"400",color:"gray.600",children:"Status"}),fe.Status&&(0,D.jsx)(m.x,{color:"red.500",fontSize:"xs",children:"Status is required"})]})}),(0,D.jsx)(c.xu,{children:(0,D.jsxs)(u.NI,{variant:"floating",id:"Branch",children:[(0,D.jsxs)(f.P,(0,o.Z)((0,o.Z)({autoComplete:"off"},ue("Branch",{required:"Branch is required"})),{},{size:"sm",borderColor:null!==fe&&void 0!==fe&&fe.Branch?"red.500":"gray.400",borderRadius:"0.25rem",placeholder:"",children:[" ",(0,D.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select Branch"}),Te]})),(0,D.jsx)(x.l,{fontWeight:"400",color:"gray.600",children:"Branch"}),fe.Branch&&(0,D.jsx)(m.x,{color:"red.500",fontSize:"xs",children:"Branch is required"})]})}),(0,D.jsx)(c.xu,{children:(0,D.jsxs)(u.NI,{variant:"floating",id:"City",children:[(0,D.jsxs)(f.P,(0,o.Z)((0,o.Z)({autoComplete:"off"},ue("City",{required:"City is required"})),{},{size:"sm",borderColor:null!==fe&&void 0!==fe&&fe.City?"red.500":"gray.400",borderRadius:"0.25rem",placeholder:"",children:[" ",(0,D.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select City"}),Ee]})),(0,D.jsx)(x.l,{fontWeight:"400",color:"gray.600",children:"City"}),fe.City&&(0,D.jsx)(m.x,{color:"red.500",fontSize:"xs",children:"City is required"})]})}),(0,D.jsx)(c.xu,{children:(0,D.jsxs)(u.NI,{variant:"floating",id:"Source",children:[(0,D.jsxs)(f.P,(0,o.Z)((0,o.Z)({autoComplete:"off"},ue("Source",{required:"Source is required"})),{},{size:"sm",borderColor:null!==fe&&void 0!==fe&&fe.Source?"red.500":"gray.400",borderRadius:"0.25rem",placeholder:"",children:[" ",(0,D.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select Source"}),Ie]})),(0,D.jsx)(x.l,{fontWeight:"400",color:"gray.600",children:"Source"}),fe.Source&&(0,D.jsx)(m.x,{color:"red.500",fontSize:"xs",children:"Source is required"})]})}),(0,D.jsx)(c.xu,{children:(0,D.jsxs)(u.NI,{variant:"floating",id:"AssignTo",children:[(0,D.jsxs)(f.P,(0,o.Z)((0,o.Z)({autoComplete:"off"},ue("AssignTo",{required:"AssignTo is required"})),{},{size:"sm",borderColor:null!==fe&&void 0!==fe&&fe.AssignTo?"red.500":"gray.400",borderRadius:"0.25rem",placeholder:"",children:[" ",(0,D.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select Assigned To"}),Ne]})),(0,D.jsx)(x.l,{fontWeight:"400",color:"gray.600",children:"Assigned To"}),fe.AssignTo&&(0,D.jsx)(m.x,{color:"red.500",fontSize:"xs",children:"Assigned To is required"})]})}),(0,D.jsx)(c.xu,{children:(0,D.jsxs)(u.NI,{variant:"floating",id:"location",children:[(0,D.jsx)(h.I,(0,o.Z)((0,o.Z)({autoComplete:"off"},ue("location",{required:"location is required"})),{},{size:"sm",borderColor:null!==fe&&void 0!==fe&&fe.location?"red.500":"gray.400",borderRadius:"0.25rem",placeholder:" "})),(0,D.jsx)(x.l,{fontWeight:"400",color:"gray.600",children:"Location"}),fe.location&&(0,D.jsx)(m.x,{color:"red.500",fontSize:"xs",children:"location is required"})]})}),(0,D.jsx)(c.xu,{children:(0,D.jsx)(h.I,{autoComplete:"off",onChange:function(e){var r,n=null===(r=e.target.files)||void 0===r?void 0:r[0];J((0,o.Z)((0,o.Z)({},i),{},{image:n||null}))},size:"sm",type:"file",name:"image",borderColor:"gray.400",borderRadius:"0.25rem",placeholder:"Enter User Profile",sx:{"::file-selector-button":{bg:"gray.500",color:"white",ml:-5,mt:.4,py:1.4,px:12,mr:15,borderRadius:"0.25rem",_hover:{bg:"blue.600"}}},flexGrow:1})}),(0,D.jsx)(c.xu,{children:(0,D.jsxs)(u.NI,{variant:"floating",id:"Remarks",children:[(0,D.jsx)("textarea",(0,o.Z)((0,o.Z)({},ue("Remarks",{required:"Remarks is required"})),{},{autoComplete:"off",placeholder:" ",style:{width:"100%",backgroundColor:"white",color:"black",fontFamily:"sans-serif",fontSize:"15px",borderRadius:"4px",padding:"2px",border:"1px solid #a0aec0",height:"32px",minHeight:"32px",borderColor:null!==fe&&void 0!==fe&&fe.location?"red":"#a0aec0"}})),(0,D.jsx)(x.l,{fontWeight:"400",color:"gray.600",children:"Remarks"}),fe.Remarks&&(0,D.jsx)(m.x,{color:"red.500",fontSize:"xs",children:"Remarks is required"})]})}),(0,D.jsx)(c.xu,{display:"flex",justifyContent:"flex-end",alignItems:"center",children:(0,D.jsx)(p.z,{isLoading:de,loadingText:"Please wait...",type:"submit",size:"sm",_hover:{bg:"#FF9000"},w:"8.188rem",bg:"#FF9000",borderRadius:"0.25rem",color:"whiteAlpha.900",fontWeight:"700",fontSize:"1rem",children:"Submit"})})," "]})}),(0,D.jsx)(d.M,{children:(0,D.jsx)(j.x,{className:"tarun",whiteSpace:"nowrap",children:(0,D.jsx)(c.xu,{overflowY:"auto",height:200,maxHeight:"200px",children:(0,D.jsxs)(g.i,{variant:"striped",colorScheme:"gray",size:"sm",children:[(0,D.jsx)(v.h,{bg:"blue.600",color:"whiteAlpha.900",position:"sticky",borderRadius:"20px",top:"0",children:(0,D.jsxs)(S.Tr,{children:[(0,D.jsx)(w.Th,{p:"2",w:"15",fontSize:"0.65rem",color:"whiteAlpha.900",children:"#"}),(0,D.jsx)(w.Th,{p:"2",w:"15",fontSize:"0.65rem",color:"whiteAlpha.900",children:"Ass To"}),(0,D.jsx)(w.Th,{p:"2",w:"15",fontSize:"0.65rem",color:"whiteAlpha.900",children:"Source"}),(0,D.jsx)(w.Th,{p:"2",w:"15",fontSize:"0.65rem",color:"whiteAlpha.900",children:"City"}),(0,D.jsx)(w.Th,{p:"2",w:"15",fontSize:"0.65rem",color:"whiteAlpha.900",children:"Name"}),(0,D.jsx)(w.Th,{p:"2",w:"15",fontSize:"0.65rem",color:"whiteAlpha.900",children:"Mob 1"}),(0,D.jsx)(w.Th,{p:"2",w:"15",fontSize:"0.65rem",color:"whiteAlpha.900",children:"Mob 2"}),(0,D.jsx)(w.Th,{p:"2",w:"15",fontSize:"0.65rem",color:"whiteAlpha.900",children:"Name"}),(0,D.jsx)(w.Th,{p:"2",w:"15",fontSize:"0.65rem",color:"whiteAlpha.900",children:"Email"}),(0,D.jsx)(w.Th,{p:"2",w:"15",fontSize:"0.65rem",color:"whiteAlpha.900",children:"Product"}),(0,D.jsx)(w.Th,{p:"2",w:"15",fontSize:"0.65rem",color:"whiteAlpha.900",children:"Price"}),(0,D.jsx)(w.Th,{p:"2",w:"15",fontSize:"0.65rem",color:"whiteAlpha.900",children:"Days"}),(0,D.jsx)(w.Th,{p:"2",w:"15",fontSize:"0.65rem",color:"whiteAlpha.900",children:"FollowUp"})]})}),we?(0,D.jsx)(P.Z,{}):(0,D.jsx)(y.p,{children:0===(null===$||void 0===$?void 0:$.length)?(0,D.jsx)(S.Tr,{children:(0,D.jsx)(b.Td,{colSpan:14,textAlign:"center",fontWeight:700})}):null===$||void 0===$?void 0:$.map((function(e){return(0,D.jsxs)(S.Tr,{fontSize:"0.5rem",children:[(0,D.jsx)(b.Td,{fontSize:"0.8rem",p:"2",w:"15",children:e.UID}),(0,D.jsx)(b.Td,{fontSize:"0.8rem",p:"2",w:"15",children:e.AssignTo}),(0,D.jsx)(b.Td,{fontSize:"0.8rem",p:"2",w:"15",children:e.Source}),(0,D.jsx)(b.Td,{fontSize:"0.8rem",p:"2",w:"15",children:e.City}),(0,D.jsx)(b.Td,{fontSize:"0.8rem",p:"2",w:"15",children:e.Name}),(0,D.jsx)(b.Td,{fontSize:"0.8rem",p:"2",w:"15",children:e.Phone1}),(0,D.jsx)(b.Td,{fontSize:"0.8rem",textAlign:"center",p:"2",w:"15",children:e.Phone2}),(0,D.jsx)(b.Td,{fontSize:"0.8rem",p:"2",w:"15",children:e.Name}),(0,D.jsx)(b.Td,{fontSize:"0.8rem",p:"2",w:"15",children:e.Email}),(0,D.jsx)(b.Td,{fontSize:"0.8rem",p:"2",w:"15",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",children:e.Course}),(0,D.jsxs)(b.Td,{fontSize:"0.8rem",p:"2",w:"15",children:[" ",e.CoursePrice]}),(0,D.jsx)(b.Td,{fontSize:"0.8rem",p:"2",w:"15",children:e.Days2}),(0,D.jsx)(b.Td,{fontSize:"0.8rem",p:"2",w:"15",children:new Date(e.FollowupDate).toLocaleDateString()}),(0,D.jsx)(b.Td,{textAlign:"center",fontSize:"0.8rem",p:"2",w:"15",children:" "})]},e._id)}))})]})})})}),(0,D.jsx)(N.DevTool,{control:xe})]})}}}]);
//# sourceMappingURL=609.c911af34.chunk.js.map